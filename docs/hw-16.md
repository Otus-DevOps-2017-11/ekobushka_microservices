# DevOps Homework-16 by Eugeny Kobushka (выполнено)

[Назад к README](../README.md)

## **Задание:** Выполнить все шаги по методичке

1. Готовим наш репозиторий к выполненияю домашнего задания
2. Собираем старые наработки в каталог monolith
3. Качаем архив и распаковываем его в каталог reddit-microservices

### Создаем Dockerfile

Так как предложенные Dockerfile не оптимизированы, то при создании учтем этот момент.
Что изменится в предложенных файлах

#### post-py/Dockerfile

Уберем первую инструкцию RUN, так как эта команда полностью дублирует идущую ниже команду RUN. В файле requirements.txt уже указаны нужные нам пакеты.

```dockerfile
# RUN pip install flask pymongo
```

команду ADD использовать не рекомендуется, поэтому заменим ADD на COPY.

```dockerfile
# ADD . /app
COPY . /app

```

#### comment/Dockerfile и ui/Dockerfile

Эти два компонента можно объединить в один пункт, так как у них одни и те же неоптимизированные строки. Команда ADD использована как дублирующая команду COPY и ее можно совесм убрать. Команду COPY передвинем на место убранной команды ADD.

```dockerfile
# ADD Gemfile* $APP_HOME/
COPY . $APP_HOME
RUN bundle install
```

### Собираем docker-контейнеры
